(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b1f9018"],{"14c3":function(e,t,a){var n=a("c6b6"),r=a("9263");e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var o=a.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},3669:function(e,t,a){},"4ce7":function(e,t,a){"use strict";var n=a("3669"),r=a.n(n);r.a},5319:function(e,t,a){"use strict";var n=a("d784"),r=a("825a"),o=a("7b0b"),c=a("50c4"),s=a("a691"),i=a("1d80"),l=a("8aa5"),u=a("14c3"),d=Math.max,f=Math.min,v=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,a,n){var h=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=n.REPLACE_KEEPS_$0,w=h?"$":"$0";return[function(a,n){var r=i(this),o=void 0==a?void 0:a[e];return void 0!==o?o.call(a,r,n):t.call(String(r),a,n)},function(e,n){if(!h&&b||"string"===typeof n&&-1===n.indexOf(w)){var o=a(t,e,this,n);if(o.done)return o.value}var i=r(e),v=String(this),p="function"===typeof n;p||(n=String(n));var m=i.global;if(m){var T=i.unicode;i.lastIndex=0}var x=[];while(1){var I=u(i,v);if(null===I)break;if(x.push(I),!m)break;var y=String(I[0]);""===y&&(i.lastIndex=l(v,c(i.lastIndex),T))}for(var E="",D=0,S=0;S<x.length;S++){I=x[S];for(var _=String(I[0]),R=d(f(s(I.index),v.length),0),k=[],A=1;A<I.length;A++)k.push(g(I[A]));var z=I.groups;if(p){var $=[_].concat(k,R,v);void 0!==z&&$.push(z);var M=String(n.apply(void 0,$))}else M=C(_,v,R,k,z,n);R>=D&&(E+=v.slice(D,R)+M,D=R+_.length)}return E+v.slice(D)}];function C(e,a,n,r,c,s){var i=n+e.length,l=r.length,u=m;return void 0!==c&&(c=o(c),u=p),t.call(s,u,(function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return a.slice(0,n);case"'":return a.slice(i);case"<":s=c[o.slice(1,-1)];break;default:var u=+o;if(0===u)return t;if(u>l){var d=v(u/10);return 0===d?t:d<=l?void 0===r[d-1]?o.charAt(1):r[d-1]+o.charAt(1):t}s=r[u-1]}return void 0===s?"":s}))}}))},"8aa5":function(e,t,a){"use strict";var n=a("6547").charAt;e.exports=function(e,t,a){return t+(a?n(e,t).length:1)}},"8c60":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.reservationInfo?a("b-card",{staticClass:"mt-4 mb-4",style:e.isContrast?{color:"white",background:"black"}:{}},[a("b-card-header",[a("h1",[e._v("Szczegóły rezerwacji")])]),a("b-card-body",[a("b-row",[a("b-col",{attrs:{cols:"12",lg:"6"}},[a("b-row",[a("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[a("span",[e._v("Operacja:")])]),a("b-col",{attrs:{cols:"6"}},[a("span",[e._v(e._s(e.reservationInfo.operationName))])])],1),a("b-row",[a("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[a("span",[e._v("Rezerwacja na dzień:")])]),a("b-col",{attrs:{cols:"6",lg:"6"}},[a("span",[e._v(e._s(e.moment(e.reservationInfo.slotDateTime).format("DD/MM/YYYY HH:mm")))])])],1),a("b-row",[a("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[a("span",[e._v("Rezerwacji dokonano w dniu:")])]),a("b-col",{attrs:{cols:"6"}},[a("span",[e._v(e._s(e.moment(e.reservationInfo.reservationDate).format("DD/MM/YYYY HH:mm")))])])],1),a("b-row",[a("b-col",{staticClass:"activation-code text-right",attrs:{cols:"6"}},[a("span",[e._v("Otrzymany KOD:")])]),a("b-col",{staticClass:"activation-code",attrs:{cols:"6"}},[a("span",[e._v(e._s(e.reservationInfo.code))])])],1),e._l(e.reservationInfo.properties,(function(t){return a("b-row",{key:t.id},[a("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[a("span",[e._v(e._s(t.name)+":")])]),a("b-col",{attrs:{cols:"6"}},[a("span",[e._v(e._s(t.value))])])],1)})),e.canCancelWithTime?a("b-row",[a("b-col",{attrs:{cols:"12",lg:e.baseFontSize>30?12:6,"offset-lg":e.baseFontSize>30?"":3}},[a("b-btn",{style:e.isContrast?{color:"white",background:"black",border:"1px solid white"}:{},attrs:{block:"",variant:"outline-secondary"},on:{click:function(t){return e.$refs.cancelReservationModal.open()}}},[a("span",{staticClass:"cancel-span"},[e._v("Anuluj rezerwację")])])],1)],1):e._e()],2),a("b-col",{attrs:{cols:"12",lg:"6"}},[a("b-row",{staticClass:"text-center"},[a("b-col",{attrs:{cols:"12"}},[a("h3",[e._v("QR Kod")])])],1),a("b-row",{staticClass:"text-center"},[a("b-col",{attrs:{cols:"12",md:"8","offset-md":"2",lg:"6","offset-lg":"3"}},[a("b-img",{attrs:{"fluid-grow":"",src:e.qrCodeSrc,alt:"kod QR"}})],1)],1),a("b-row",{staticClass:"text-center"},[a("b-col",[a("span",[e._v("Użyj kodu QR, aby dodać rezerwację do swojego kalendarza")])])],1)],1)],1),a("b-row",[a("b-col",{staticClass:"d-flex"},[a("div",{staticClass:"m-auto summary-content",staticStyle:{width:"80%"},domProps:{innerHTML:e._s(e.reservationInfo.summaryContent)}})])],1)],1)],1):e._e(),e.canCancelWithTime?a("sweet-modal",{ref:"cancelReservationModal",staticClass:"my-modal",style:e.sweetModalStyle,attrs:{"overlay-theme":"dark","modal-theme":e.isContrast?"dark":"light",blocking:"","hide-close-button":""}},[a("b-row",[a("b-col",[a("span",[e._v("Czy na pewno chcesz anulować rezerwację?")])])],1),a("b-row",[a("b-col",{staticClass:"p-2",attrs:{cols:"12",lg:"5","offset-lg":"1"}},[a("b-btn",{style:{fontSize:"1rem",whiteSpace:"pre-wrap",overflowWrap:"break-word",background:e.isContrast?"white":"",color:e.isContrast?"black":""},attrs:{block:"",variant:"success",size:"lg"},on:{click:e.cancelReservation}},[e._v("Tak")])],1),a("b-col",{staticClass:"p-2",attrs:{cols:"12",lg:"5"}},[a("b-btn",{style:{fontSize:"1rem",whiteSpace:"pre-wrap",overflowWrap:"break-word",background:e.isContrast?"white":"",color:e.isContrast?"black":""},attrs:{block:"",variant:"primary",size:"lg"},on:{click:function(t){return e.$refs.cancelReservationModal.close()}}},[e._v("Nie")])],1)],1)],1):e._e(),e.canCancelWithTime?a("sweet-modal",{ref:"reservationCanceledModal",style:e.sweetModalStyle,attrs:{"overlay-theme":"dark","modal-theme":e.isContrast?"dark":"light",blocking:"","hide-close-button":""}},[a("h1",[e._v(e._s(e.canceledMsg))])]):e._e()],1)},r=[],o=(a("99af"),a("ac1f"),a("5319"),a("c1df")),c=a.n(o),s=a("b0ae"),i=a("a18c"),l={data:function(){return{reservationInfo:null,qrCodeSrc:"",colorsConfig:null,canCancel:!1,cancelTime:0,canceledMsg:"",dateTimeNow:new Date,dateTimeOffset:0,serverDateTimeInterval:null,sweetModalStyle:{}}},metaInfo:{title:"Szczegóły rezerwacji"},components:{SweetModal:s["a"]},computed:{reservationId:function(){return this.$route.params.reservationId},companyName:function(){return this.$route.params.companyName},isContrast:function(){return"none"!=this.$store.getters.getContrast},baseFontSize:function(){return this.$store.getters.getBaseFontSize},canCancelWithTime:function(){var e=this;if(!e.canCancel||!e.reservationInfo)return!1;var t=new Date,a=new Date(e.reservationInfo.slotDateTime);return a.setMinutes(a.getMinutes()-parseInt(e.cancelTime)),t<a},action:function(){var e=this.$route.params.action;return e||""}},methods:{moment:c.a,getDateTimeFromServer:function(){var e=this;return e.$http.get("Utility/GetDateTime").then((function(t){e.dateTimeOffset=parseInt((new Date).getTime()-new Date(t.data.dateTime)),e.dateTimeNow=new Date((new Date).getTime()+parseInt(e.dateTimeOffset))})).catch((function(){e.dateTimeNow=new Date,e.dateTimeOffset=0}))},startServerDateTimeInterval:function(){var e=this;e.getDateTimeFromServer(),clearInterval(e.serverDateTimeInterval),e.serverDateTimeInterval=setInterval((function(){e.dateTimeNow=new Date((new Date).getTime()+parseInt(e.dateTimeOffset))}),1e3)},cancelReservation:function(){var e=this;e.canCancel&&(e.$refs.cancelReservationModal.close(),e.$http.get("Slot/CancelReservation/".concat(e.reservationInfo.reservationId)).then((function(t){t.data?(e.canceledMsg="Twoja rezerwacja została anulowana. Za chwilę zostaniesz przekierowany.",setTimeout((function(){e.$refs.reservationCanceledModal.close(),i["a"].push({path:"/".concat(e.companyName,"/Reservation")})}),3e3)):e.canceledMsg="Nie udało się anulować Twojej rezerwacji",e.$refs.reservationCanceledModal.open()})).catch((function(t){e.canceledMsg="Nie udało się anulować Twojej rezerwacji",e.$refs.reservationCanceledModal.open(),setTimeout((function(){e.$refs.reservationCanceledModal.close()}),3e3)})))}},mounted:function(){var e=this;e.$http.get("Configuration/GetReservationColorsForCompany/".concat(e.companyName)).then((function(t){e.colorsConfig=t.data,e.$http.get("/Slot/GetActualSlotStatus/".concat(e.reservationId)).then((function(t){e.reservationInfo=t.data;var a=e.reservationInfo.operationName.replace(" ","%20"),n=c()(new Date(e.reservationInfo.slotDateTime)).format("YYYYMMDDTHHmmSS");e.qrCodeSrc="https://qrickit.com/api/qr.php?d=BEGIN%3AVEVENT%0D%0ASUMMARY%3ARezerwacja%20wizyty%20".concat(a,"%0D%0ALOCATION%3A").concat(a,"%0D%0AURL%3A%0D%0ADESCRIPTION%3AOtrzymany%20KOD:%20").concat(e.reservationInfo.code,"%0D%0ADTSTART%3A").concat(n,"%0D%0ADTEND%3A").concat(n,"%0D%0ARRULE%3AFREQ=%3BUNTIL=Z%0D%0AEND%3AVEVENT%0D%0A&t=g&addtext=&txtcolor=000000& fgdcolor=000000&bgdcolor=FFFFFF&qrsize=400"),"CANCEL"==e.action.toUpperCase()&&e.$refs.cancelReservationModal.open(),e.startServerDateTimeInterval(),e.$http.get("Configuration/GetCanCancel/".concat(e.companyName,"/").concat(e.reservationInfo.operationId)).then((function(t){e.canCancel=t.data.canCancel,e.cancelTime=t.data.time})).catch((function(){e.canCancel=!1,e.cancelTime=0}))}))}))},destroyed:function(){clearInterval(this.serverDateTimeInterval)}},u=l,d=(a("4ce7"),a("2877")),f=Object(d["a"])(u,n,r,!1,null,"6dcc7fd2",null);t["default"]=f.exports},9263:function(e,t,a){"use strict";var n=a("ad6d"),r=a("9f7f"),o=RegExp.prototype.exec,c=String.prototype.replace,s=o,i=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=i||u||l;d&&(s=function(e){var t,a,r,s,d=this,f=l&&d.sticky,v=n.call(d),p=d.source,m=0,g=e;return f&&(v=v.replace("y",""),-1===v.indexOf("g")&&(v+="g"),g=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,m++),a=new RegExp("^(?:"+p+")",v)),u&&(a=new RegExp("^"+p+"$(?!\\s)",v)),i&&(t=d.lastIndex),r=o.call(f?a:d,g),f?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:i&&r&&(d.lastIndex=d.global?r.index+r[0].length:t),u&&r&&r.length>1&&c.call(r[0],a,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r}),e.exports=s},"9f7f":function(e,t,a){"use strict";var n=a("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,a){"use strict";var n=a("23e7"),r=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},d784:function(e,t,a){"use strict";a("ac1f");var n=a("6eeb"),r=a("d039"),o=a("b622"),c=a("9263"),s=a("9112"),i=o("species"),l=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=o("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),v=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));e.exports=function(e,t,a,d){var p=o(e),m=!r((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),g=m&&!r((function(){var t=!1,a=/a/;return"split"===e&&(a={},a.constructor={},a.constructor[i]=function(){return a},a.flags="",a[p]=/./[p]),a.exec=function(){return t=!0,null},a[p](""),!t}));if(!m||!g||"replace"===e&&(!l||!u||f)||"split"===e&&!v){var h=/./[p],b=a(p,""[e],(function(e,t,a,n,r){return t.exec===c?m&&!r?{done:!0,value:h.call(t,a,n)}:{done:!0,value:e.call(a,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),w=b[0],C=b[1];n(String.prototype,e,w),n(RegExp.prototype,p,2==t?function(e,t){return C.call(e,this,t)}:function(e){return C.call(e,this)})}d&&s(RegExp.prototype[p],"sham",!0)}}}]);
//# sourceMappingURL=chunk-5b1f9018.8bc1758d.js.map